os: linux
dist: xenial

language: node_js
node_js:
  - "lts/carbon"
cache: npm

before_install:
  - sudo apt-get update
  - sudo apt-get install build-essential -y
  - sudo apt-get install libxt-dev libxtst-dev libxinerama-dev -y

install:
  - npm i
  - npm i -g lerna
  - travis_wait 60 lerna bootstrap --progress --no-ci --hoist

script: xvfb-run --server-args="-screen 0 1024x768x24" lerna run test